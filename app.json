{
    "id": "de.ubisys",
    "sdk": 2,
    "name": {
        "en": "Ubisys SmartHome ZigBee Devices"
    },
    "description": {
        "en": "Support for Ubisys SmartHome ZigBee Devices"
    },
    "category": "lights",
    "version": "1.0.1",
    "compatibility": ">=1.5.4",
    "author": {
        "name": "Martin Brasse",
        "email": "kasteleman@gmail.com"
    },
    "contributing": {
      "donate": {
        "paypal": {
          "username": "kasteleman"
        }
      }
    },
    "images": {
      "large": "/assets/images/large.png",
      "small": "/assets/images/small.png"
    },
    "drivers": [
      {
        "id": "S1_5501",
        "name": {
          "en": "S1 POWER SWITCH",
          "nl": "S1 POWER SWITCH"
        },
        "class": "light",
        "class": "socket",
        "capabilities": [
          "onoff",
          "measure_power"
        ],
        "mobile": {
          "components": [
            {
              "id": "icon",
              "capabilities": []
            },
            {
              "id": "toggle",
              "capabilities": ["onoff"],
              "options": {
                "showTitle": true
              }
            },
            {
              "id": "sensor",
              "capabilities": [
                "measure_power"
              ]
            }
          ]
        },
        "images": {
          "large": "drivers/S1_5501/assets/images/large.png",
          "small": "drivers/S1_5501/assets/images/small.png"
        },
        "zigbee": {
          "manufacturerName": "ubisys",
          "productId": "S1 (5501)",
          "deviceId": 9,
          "profileId": 260,
          "learnmode": {
            "instruction": {
              "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n S2 also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
              "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n S2 kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
            }
          }
        },
        "settings": [
        ]
      },
      {
        "id": "S1R_5501",
        "name": {
          "en": "S1 RAILSWITCH",
          "nl": "S1 RAILSWITCH"
        },
        "class": "light",
        "class": "socket",
        "capabilities": [
          "onoff",
          "measure_power"
        ],
        "mobile": {
          "components": [
            {
              "id": "icon",
              "capabilities": []
            },
            {
              "id": "toggle",
              "capabilities": ["onoff"],
              "options": {
                "showTitle": true
              }
            },
            {
              "id": "sensor",
              "capabilities": [
                "measure_power"
              ]
            }
          ]
        },
        "images": {
          "large": "drivers/S1R_5501/assets/images/large.png",
          "small": "drivers/S1R_5501/assets/images/small.png"
        },
        "zigbee": {
          "manufacturerName": "ubisys",
          "productId": "S1-R (5501)",
          "deviceId": 9,
          "profileId": 260,
          "learnmode": {
            "instruction": {
              "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n S2 also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
              "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n S2 kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
            }
          }
        },
        "settings": [
        ]
      },
    {
      "id": "D1_5503",
      "name": {
        "en": "D1 DIMMER",
        "nl": "D1 DIMMER"
      },
      "class": "socket",
      "capabilities": [
        "onoff",
        "dim",
        "measure_power"
      ],
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": [
              "onoff"
            ]
          },
          {
            "id": "slider",
            "capabilities": [
              "dim"
            ]
          },
          {
            "id": "sensor",
            "capabilities": [
              "measure_power"
            ]
          }
        ]
      },
      "images": {
        "large": "drivers/D1_5503/assets/images/large.png",
        "small": "drivers/D1_5503/assets/images/small.png"
      },
      "zigbee": {
        "manufacturerName": "ubisys",
        "productId": "D1 (5503)",
        "deviceId": 257,
        "profileId": 260,
        "learnmode": {
          "instruction": {
            "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n D1 also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
            "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n D1 kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
          }
        }
      },
      "settings": [
        {
          "id": "transtime",
          "type": "number",
          "label": {
            "nl": "Transitie tijd in seconden",
            "en": "Transition time in seconds"
          },
          "value": 1,
          "attr": {
            "min": 0,
            "max": 20
          }
        }
      ]
    },
    {
      "id": "D1R_5503",
      "name": {
        "en": "D1-R RAILDIMMER",
        "nl": "D1-R RAILDIMMER"
      },
      "class": "socket",
      "capabilities": [
        "onoff",
        "dim",
        "measure_power"
      ],
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": [
              "onoff"
            ]
          },
          {
            "id": "slider",
            "capabilities": [
              "dim"
            ]
          },
          {
            "id": "sensor",
            "capabilities": [
              "measure_power"
            ]
          }
        ]
      },
      "images": {
        "large": "drivers/D1R_5503/assets/images/large.png",
        "small": "drivers/D1R_5503/assets/images/small.png"
      },
      "zigbee": {
        "manufacturerName": "ubisys",
        "productId": "D1-R (5503)",
        "deviceId": 257,
        "profileId": 260,
        "learnmode": {
          "instruction": {
            "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n D1-R also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
            "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n D1-R kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
          }
        }
      },
      "settings": [
        {
          "id": "transtime",
          "type": "number",
          "label": {
            "nl": "Transitie tijd in seconden",
            "en": "Transition time in seconds"
          },
          "value": 1,
          "attr": {
            "min": 0,
            "max": 20
          }
        }
      ]
    },
    {
      "id": "S2_5502",
      "name": {
        "en": "S2 POWER SWITCH",
        "nl": "S2 POWER SWITCH"
      },
      "class": "light",
      "class": "socket",
      "capabilities": [
        "onoff",
        "onoff.1",
        "measure_power"
      ],
      "capabilitiesOptions": {
        "onoff": {
          "title": {
            "en": "Switch 1"
          },
          "greyout": false
        },
        "onoff.1": {
          "title": {
            "en": "Switch 2"
          },
          "greyout": false
        }
      },
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": []
          },
          {
            "id": "toggle",
            "capabilities": ["onoff"],
            "options": {
              "showTitle": true
            }
          },
          {
            "id": "toggle",
            "capabilities": ["onoff.1"],
            "options": {
              "showTitle": true
            }
          },
          {
            "id": "sensor",
            "capabilities": [
              "measure_power"
            ]
          }
        ]
      },
      "images": {
        "large": "drivers/S2_5502/assets/images/large.png",
        "small": "drivers/S2_5502/assets/images/small.png"
      },
      "zigbee": {
        "manufacturerName": "ubisys",
        "productId": "S2 (5502)",
        "deviceId": 266,
        "profileId": 260,
        "learnmode": {
          "instruction": {
            "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n S2 also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
            "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n S2 kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
          }
        }
      },
      "settings": [
      ]
    },
    {
      "id": "S2R_5502",
      "name": {
        "en": "S2 RAILSWITCH",
        "nl": "S2 RAILSWITCH"
      },
      "class": "socket",
      "capabilities": [
        "onoff",
        "onoff.1",
        "measure_power"
      ],
      "capabilitiesOptions": {
        "onoff": {
          "title": {
            "en": "Switch 1"
          },
          "greyout": false
        },
        "onoff.1": {
          "title": {
            "en": "Switch 2"
          },
          "greyout": false
        }
      },
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": []
          },
          {
            "id": "toggle",
            "capabilities": ["onoff"],
            "options": {
              "showTitle": true
            }
          },
          {
            "id": "toggle",
            "capabilities": ["onoff.1"],
            "options": {
              "showTitle": true
            }
          },
          {
            "id": "sensor",
            "capabilities": [
              "measure_power"
            ]
          }
        ]
      },
      "images": {
        "large": "drivers/S2R_5502/assets/images/large.png",
        "small": "drivers/S2R_5502/assets/images/small.png"
      },
      "zigbee": {
        "manufacturerName": "ubisys",
        "productId": "S2-R (5602)",
        "deviceId": 266,
        "profileId": 260,
        "learnmode": {
          "instruction": {
            "en": "The device will search for an open ZigBee network to join when you first apply power to it.\n\n S2-R also offers a push-button behind a tiny hole in the front-face of the device in order to start the inclusion manually.",
            "nl": "De module zal, zodra deze is voorzien van stroom, op zoek gaan naar een ZigBee netwerk.\n\n S2-R kan ook aan een ZigBee network worden toegevoegd door een knopje in een klein gaatje aan de voorkant van de module kort in te drukken."
          }
        }
      },
      "settings": [
      ]
    }
  ],
  "flow": {
    "triggers": [
      {
      "id": "switch2_turned_on",
      "title": {
        "en": "Second Switch Turned On",
        "nl": "2. Schakelaar Aangezet"
      },
      "args": [
        {
          "type": "device",
          "name": "device",
          "filter": "driver_id=S2_5502||S2R_5502"
        }
      ]
    },
    {
      "id": "switch2_turned_off",
      "title": {
        "en": "Second Switch Turned Off",
        "nl": "2. Schakelaar Uitgezet"
      },
      "args": [
        {
          "type": "device",
          "name": "device",
          "filter": "driver_id=S2_5502||S2R_5502"
        }
      ]
    }
  ],
  "conditions": [
    {
      "id": "switch2_is_on",
      "title": {
        "en": "Second switch is !{{on|off}}",
        "nl": "2. schakelaar is !{{ingeschakeld|uitgeschakeld}}"
      },
      "args": [
        {
          "type": "device",
          "name": "device",
          "filter": "driver_id=S2_5502||S2R_5502"
        }
      ]
    }
  ],
  "actions":  [
      {
      "id": "turn_on_switch2",
      "title": {
        "en": "Turn Second Switch On",
        "nl": "Zet 2. Schakelaar aan"
     },
    "args": [
      {
        "type": "device",
        "name": "device",
        "filter": "driver_id=S2_5502||S2R_5502"
      }
    ]
  },
  {
    "id": "turn_off_switch2",
    "title": {
      "en": "Turn Second Switch Off",
      "nl": "Zet 2. Schakelaar uit"
    },
    "args": [
      {
        "type": "device",
        "name": "device",
        "filter": "driver_id=S2_5502||S2R_5502"
      }
    ]
  }
  ]
  }
}
